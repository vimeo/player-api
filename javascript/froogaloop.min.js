var Froogaloop=function(){function e(t){return new e.fn.init(t)}function o(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],i=JSON.stringify({method:e,value:t});r.substr(0,2)==="//"&&(r=window.location.protocol+r),n.contentWindow.postMessage(i,r)}function u(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(i){}n=="ready"&&!r&&(r=!0);if(e.origin!=s)return!1;var o=t.value,u=t.data,a=a===""?null:t.player_id,l=f(n,a),c=[];return l?(o!==undefined&&c.push(o),u&&c.push(u),a&&c.push(a),c.length>0?l.apply(null,c):l.call()):!1}function a(e,n,r){r?(t[r]||(t[r]={}),t[r][e]=n):t[e]=n}function f(e,n){if(!n)return t[e];if(t[n])return t[n][e]}function l(e,n){if(n&&t[n]){if(!t[n][e])return!1;t[n][e]=null}else{if(!t[e])return!1;t[e]=null}return!0}function c(e){e.substr(0,2)==="//"&&(e=window.location.protocol+e);var t=e.split("/"),n="";for(var r=0,i=t.length;r<i;r++){if(!(r<3))break;n+=t[r],r<2&&(n+="/")}return n}function h(e){return!!(e&&e.constructor&&e.call&&e.apply)}function p(e){return toString.call(e)==="[object Array]"}var t={},n=!1,r=!1,i=Array.prototype.slice,s="";return e.fn=e.prototype={element:null,init:function(e){return typeof e=="string"&&(e=document.getElementById(e)),this.element=e,s=c(this.element.getAttribute("src")),this},api:function(e,t){if(!this.element||!e)return!1;var n=this,r=n.element,i=r.id!==""?r.id:null,s=h(t)?null:t,u=h(t)?t:null;return u&&a(e,u,i),o(e,s,r),n},addEvent:function(e,t){if(!this.element)return!1;var n=this,i=n.element,s=i.id!==""?i.id:null;return a(e,t,s),e!="ready"?o("addEventListener",e,i):e=="ready"&&r&&t.call(null,s),n},removeEvent:function(e){if(!this.element)return!1;var t=this,n=t.element,r=n.id!==""?n.id:null,i=l(e,r);e!="ready"&&i&&o("removeEventListener",e,n)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",u,!1):window.attachEvent("onmessage",u),window.Froogaloop=window.$f=e}();
